<meta charset=utf-8><meta name=viewport content="initial-scale=1,maximum-scale=1,user-scalable=no"><title>AIS MAP</title><style>body,html{padding:0;margin:0;height:100%;width:100%}#toparea{height:12%;width:100%;background:#66b3ff}#funcbottun{position:absolute;top:12%;height:88%;width:10%;float:left;background:#f0f0f0}#viewDiv{top:12%;height:88%;width:90%;float:right}.buttonbase{height:15%;border-radius:10% 10% 10% 10%;border-color:#adadad;border-style:solid;background:#adadad;margin:3}.buttonword{height:100%;display:flex;align-items:center;justify-content:center;color:#fff}.buttonopen{height:94%;border-radius:10% 10% 10% 10%;border-color:#7b7b7b;border-style:solid;background:#7b7b7b}</style><link rel=stylesheet href=https://js.arcgis.com/4.19/esri/themes/light/main.css><script src=https://js.arcgis.com/4.19/ ></script><script>const ariver_chen="AAPKcdf1a16eb48d4510909ddc6fab400767UzktCkf_9glxAmx1oHcl86nqMsST53dTitvp-ad-2-OKtBCK3OH7PgGFzAwJ-60k";require(["esri/config","esri/Map","esri/views/MapView","esri/layers/MapImageLayer","esri/layers/GeoJSONLayer","esri/layers/WMTSLayer","esri/layers/FeatureLayer","esri/layers/TileLayer","esri/layers/WebTileLayer","esri/layers/VectorTileLayer","esri/layers/KMLLayer","esri/layers/GroupLayer","esri/layers/support/Sublayer","esri/widgets/LayerList","esri/widgets/ScaleBar","esri/widgets/Legend","esri/widgets/Search","esri/widgets/BasemapToggle","esri/widgets/Compass"],(function(e,i,s,r,t,a,l,c,o,p,n,m,v,g,d,w,u,b,h){e.apiKey=ariver_chen;const S=new a({url:"http://wmts.nlsc.gov.tw/wmts",activeLayer:{id:"EMAP"}}),y=new i({basemap:"osm"}),f=new s({map:y,center:[120.972177,23.743345],zoom:6,container:"viewDiv",constraints:{snapToZoom:!1}}),_=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/20",title:"全球海洋"}),A=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/19",title:"全球國界"}),C=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/18",title:"AIS接收範圍"});C.visible=!1;const E=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/17",title:"岸基雷達掃描範圍"});E.visible=!1;const I=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/16",title:"領海30浬外界"});I.visible=!1;const F=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/15",title:"領海24浬外界"}),T=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/14",title:"領海12浬外界"}),N=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/13",title:"領海3浬外界"});N.visible=!1;const V=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/12",title:"中華民國第一批領海基線"}),J=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/11",title:"護漁範圍"}),L=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/10",title:"護漁範圍線"}),U=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/9",title:"離岸風電潛在場址"});U.visible=!1;const Z=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/8",title:"航行警戒區"});Z.visible=!1;const B=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/7",title:"軍事國防演習區"});B.visible=!1;const Y=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/6",title:"海峽中線"}),M=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/5",title:"AIS接收站"});M.visible=!1;const x=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/4",title:"臺灣一、二類漁港"});x.visible=!1;const z=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/3",title:"臺灣港口(含設施範圍)"});z.visible=!1;const K=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/2",title:"全球港口(不含臺灣)"});K.visible=!1;const k=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/1",title:"全球重要城市"});k.visible=!1;const O=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/AIS_BASE/FeatureServer/0",title:"經緯網格"});O.visible=!1;const R=new m({title:"基本圖資",layers:[_,A,C,E,I,F,T,N,V,J,L,U,Z,B,Y,M,x,z,K,k,O]});y.add(R);const j=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/RESEARCH/FeatureServer/0",title:"漁法作業熱區",popupTemplate:{title:"{type}",content:[{type:"fields",fieldInfos:[{fieldName:"type",label:"漁法種類"}]}]}});j.opacity=.6;const H=new m({title:"漁業研究",layers:[j]});H.visible=!1,y.add(H);const G=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/WEATHER/FeatureServer/3",title:"海溫"});G.visible=!1;const W=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/WEATHER/FeatureServer/2",title:"颱風",popupTemplate:{title:"{中文名},{報導種類}",content:[{type:"fields",fieldInfos:[{fieldName:"中文名"},{fieldName:"颱風名"},{fieldName:"報導種類"},{fieldName:"熱帶氣旋編號"},{fieldName:"颱風編號"},{fieldName:"座標"},{fieldName:"最大風速"},{fieldName:"最大陣風速度"},{fieldName:"氣壓"},{fieldName:"移動速度"},{fieldName:"移動方向"},{fieldName:"七級風暴風半徑"},{fieldName:"time",label:"時間"}]}]}}),P=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/WEATHER/FeatureServer/1",title:"浪向",popupTemplate:{title:"{浪向_度_}度",content:[{type:"fields",fieldInfos:[{fieldName:"浪向_度_",label:"浪向(度)"}]}]}});P.visible=!1;const q=new l({url:"https://services7.arcgis.com/iwJecY0VUCc36apZ/arcgis/rest/services/WEATHER/FeatureServer/0",title:"各點浪高",popupTemplate:{title:"浪高{浪高_公尺_}公尺",content:[{type:"fields",fieldInfos:[{fieldName:"經度"},{fieldName:"緯度"},{fieldName:"浪高_公尺_",label:"浪高(公尺)"},{fieldName:"時間"}]}]}});q.visible=!1;const D=new m({title:"海洋大氣",layers:[G,W,P,q]});D.visible=!1,y.add(D);const Q={title:"{ShipName}",content:[{type:"fields",fieldInfos:[{fieldName:"MMSI"},{fieldName:"ShipName",label:"船舶名稱"},{fieldName:"Call_Sign",label:"國際呼號"},{fieldName:"IMO_Number"},{fieldName:"SOG",label:"船速(節)"},{fieldName:"COG",label:"航向"},{fieldName:"Ship_and_Cargo_Type",label:"船舶種類"},{fieldName:"Longitude",label:"經度"},{fieldName:"Latitude",label:"緯度"},{fieldName:"Navigational_Status",label:"航行狀態"},{fieldName:"Record_Time",label:"紀錄時間"}]}]},X=[{type:"rotation",field:"COG",rotationType:"geographic"}],$=new t({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",definitionExpression:"Ship_and_Cargo_Type LIKE '3%'",copyright:"mpbais",title:"漁船、拖船、帆船、遊艇",renderer:{type:"simple",symbol:{type:"simple-marker",path:"M14.5,29 23.5,0 14.5,9 5.5,0z",color:"#005CE6",outline:{color:"#002673",width:.5},angle:180,size:15},visualVariables:X},popupTemplate:Q});$.refreshInterval=.5,$.visible=!0;const ee=new t({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",definitionExpression:"Ship_and_Cargo_Type LIKE '5%'",copyright:"mpbais",title:"引水船、搜索船、拖駁船等",renderer:{type:"simple",symbol:{type:"simple-marker",path:"M14.5,29 23.5,0 14.5,9 5.5,0z",color:"#FF0000",outline:{color:"#A80000",width:.5},angle:180,size:15},visualVariables:X},popupTemplate:Q});ee.refreshInterval=.5,ee.visible=!0;const ie=new t({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",definitionExpression:"Ship_and_Cargo_Type LIKE '4%'",copyright:"mpbais",title:"高速船",renderer:{type:"simple",symbol:{type:"simple-marker",path:"M14.5,29 23.5,0 14.5,9 5.5,0z",color:"#AAFF00",outline:{color:"#267300",width:.5},angle:180,size:15},visualVariables:X},popupTemplate:Q});ie.refreshInterval=.5,ie.visible=!0;const se=new t({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",definitionExpression:"Ship_and_Cargo_Type LIKE '6%'",copyright:"mpbais",title:"客輪",renderer:{type:"simple",symbol:{type:"simple-marker",path:"M14.5,29 23.5,0 14.5,9 5.5,0z",color:"#FFFF00",outline:{color:"#A8A800",width:.5},angle:180,size:15},visualVariables:X},popupTemplate:Q});se.refreshInterval=.5,se.visible=!0;const re=new t({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",definitionExpression:"Ship_and_Cargo_Type LIKE '7%'",copyright:"mpbais",title:"貨輪",renderer:{type:"simple",symbol:{type:"simple-marker",path:"M14.5,29 23.5,0 14.5,9 5.5,0z",color:"#00ABA4",outline:{color:"#004C73",width:.5},angle:180,size:15},visualVariables:X},popupTemplate:Q});re.refreshInterval=.5,re.visible=!0;const te=new t({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",definitionExpression:"Ship_and_Cargo_Type LIKE '8%'",copyright:"mpbais",title:"油輪",renderer:{type:"simple",symbol:{type:"simple-marker",path:"M14.5,29 23.5,0 14.5,9 5.5,0z",color:"#FF00C5",outline:{color:"#73004C",width:.5},angle:180,size:15},visualVariables:X},popupTemplate:Q});te.refreshInterval=.5,te.visible=!0;const ae=new t({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",definitionExpression:"Ship_and_Cargo_Type LIKE '9%' OR Ship_and_Cargo_Type LIKE '0%' OR Ship_and_Cargo_Type LIKE '1%' OR Ship_and_Cargo_Type LIKE '2%'",copyright:"mpbais",title:"未具體說明",renderer:{type:"simple",symbol:{type:"simple-marker",path:"M14.5,29 23.5,0 14.5,9 5.5,0z",color:"#9C9C9C",outline:{color:"#343434",width:.5},angle:180,size:15},visualVariables:X},popupTemplate:Q});ae.refreshInterval=.5,ae.visible=!0;const le=new m({title:"船舶即時位置",layers:[ae,te,re,se,ie,ee,$]});y.add(le);const ce=new t({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",definitionExpression:"MMSI IN ('416002000','416003000','416005000','416006205','416006645','416006646','416006758','416006955','416007000','416007600','416013000','416014000','416069800','416077700','416078700','416078800','416176500','416215700','416215800','416445000','416474000','416444000','416471000','416473000','416007454','416903000','416097800','416179700','416004196','416004305','416004821','416004905','416005119','416005207','416005376','416005947','416005948','416005949','416007245','416008031','416086900','416132900','416194700','416007462','416047700','416047800','416048700','416048900','416084900','416092600','416143600','416143700','416143900','416144500','416144700','416144900','416145500','416145700','416006626','416006704','416006703','416007461','416051700','416191900','416192500')",copyright:"mpbais",title:"海巡艦即時位置",renderer:{type:"simple",symbol:{type:"simple-marker",path:"M14.5,29 23.5,0 14.5,9 5.5,0z",color:"#FF5500",outline:{color:"#A83800",width:.5},angle:180,size:15},visualVariables:X},popupTemplate:Q});ce.refreshInterval=.5,ce.visible=!1,y.add(ce);const oe=new u({view:f});f.ui.add(oe,"top-right");const pe=new h({view:f});f.ui.add(pe,"top-left");const ne=new g({view:f});f.ui.add(ne,{position:"top-left"});const me=new w({view:f});f.ui.add(me,"top-right");const ve=new d({view:f,unit:"metric"});f.ui.add(ve,"bottom-left");const ge=new b({view:f,nextBasemap:{baseLayers:[S]}});f.ui.add(ge,"bottom-right")}))</script><div id=toparea><div style=width:90%;height:12%;float:left><h1>&emsp;AIS 船舶系統</h1></div></div><div id=funcbottun><div class=buttonbase><div id=layeropen onclick=layerFopen() style=display:none><div class=buttonword>圖層<br>關閉</div></div><div id=layerclose onclick=layerFclose() style=display:inline><div class=buttonopen><div class=buttonword>圖層<br>顯示</div></div></div></div><div class=buttonbase><div id=symbolopen onclick=symbolFopen() style=display:none><div class=buttonword>圖例<br>關閉</div></div><div id=symbolclose onclick=symbolFclose() style=display:inline><div class=buttonopen><div class=buttonword>圖例<br>顯示</div></div></div></div></div><div id=viewDiv></div><script>function layerFopen(){document.querySelector(".esri-layer-list").style.cssText+="display:block",document.querySelector("#layeropen").style.cssText+="display:none",document.querySelector("#layerclose").style.cssText+="display:inline"}function layerFclose(){document.querySelector(".esri-layer-list").style.cssText+="display:none",document.querySelector("#layerclose").style.cssText+="display:none",document.querySelector("#layeropen").style.cssText+="display:inline"}function symbolFopen(){document.querySelector(".esri-legend").style.cssText+="display:block",document.querySelector("#symbolopen").style.cssText+="display:none",document.querySelector("#symbolclose").style.cssText+="display:inline"}function symbolFclose(){document.querySelector(".esri-legend").style.cssText+="display:none",document.querySelector("#symbolclose").style.cssText+="display:none",document.querySelector("#symbolopen").style.cssText+="display:inline"}</script>
