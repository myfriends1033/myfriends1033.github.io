<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>AIS MAP | p.p_githubpage</title>
  <style>
    html,
	body {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }

	#toparea {
		height: 12%;
		width: 100%;
	}

    #viewDiv {
        position: absolute;
        top: 12%;
		height: 88%;
        width: 100%;
    }
  </style>

  <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->
  <link rel="stylesheet" href="https://js.arcgis.com/4.19/esri/themes/light/main.css">
  <script src="https://js.arcgis.com/4.19/"></script>

  <script>
require(["esri/config","esri/Map","esri/views/MapView","esri/layers/MapImageLayer","esri/layers/GeoJSONLayer","esri/layers/WMTSLayer","esri/widgets/LayerList","esri/widgets/ScaleBar","esri/widgets/Legend","esri/widgets/Search","esri/widgets/BasemapToggle",],function(j,k,l,c,m,n,o,p,q,r,s){j.apiKey="AAPKcdf1a16eb48d4510909ddc6fab400767UzktCkf_9glxAmx1oHcl86nqMsST53dTitvp-ad-2-OKtBCK3OH7PgGFzAwJ-60k";let t=new n({url:"http://wmts.nlsc.gov.tw/wmts",activeLayer:{id:"EMAP"}}),b=new k({basemap:"osm"}),a=new l({map:b,center:[120.972177,23.743345,],zoom:6,container:"viewDiv",constraints:{snapToZoom:!1}}),u=new c({url:"https://geosrv.gis.geoinfor.com.tw/arcgis/rest/services/AIS_BASE/MapServer",title:"\u57FA\u672C\u5716\u8CC7"});b.add(u);let f=new c({url:"https://geosrv.gis.geoinfor.com.tw/arcgis/rest/services/RESEARCH/MapServer",title:"\u6F01\u696D\u7814\u7A76"});f.visible=!1,b.add(f);let g=new c({url:"https://geosrv.gis.geoinfor.com.tw/arcgis/rest/services/SEA_TEMPERATURES/MapServer",title:"\u5168\u7403\u6D77\u6EAB",listMode:"hide-children"});g.visible=!1,b.add(g);let h=new c({url:"https://geosrv.gis.geoinfor.com.tw/arcgis/rest/services/WEATHER/MapServer",title:"\u6D77\u6D0B\u5927\u6C23"});h.visible=!1,b.add(h);let i=new c({url:"https://geosrv.gis.geoinfor.com.tw/arcgis/rest/services/AIS_NOW/MapServer",title:"\u8239\u8236\u5373\u6642\u4F4D\u7F6E",listMode:"hide-children"});i.refreshInterval=1,b.add(i);let d=new c({url:"https://geosrv.gis.geoinfor.com.tw/arcgis/rest/services/NOW_CRUISER/MapServer",title:"\u6D77\u5DE1\u8266\u5373\u6642\u4F4D\u7F6E",listMode:"hide-children"});d.refreshInterval=1,d.visible=!1,b.add(d);let e=new m({url:"https://mpbais.motcmpb.gov.tw/aismpb/tools/geojsonais.ashx",copyright:"mpbais",title:"\u8239\u8236\u5373\u6642\u4F4D\u7F6E",labelingInfo:[{symbol:{type:"text",color:"white",haloColor:"blue",haloSize:1}}]});e.refreshInterval=.5,e.popupEnabled=!0,e.visible=!1;let v=new r({view:a});a.ui.add(v,"top-right");let w=new o({view:a});a.ui.add(w,{position:"top-left"});let x=new q({view:a});a.ui.add(x,"top-right");let y=new p({view:a,unit:"metric"});a.ui.add(y,"bottom-left");let z=new s({view:a,nextBasemap:{baseLayers:[t]}});a.ui.add(z,"bottom-right")})
  </script>

</head>

<body>

  <div class="toparea">
    <div style="width:50%; height:12%; float:left;">
      <h1>AIS船舶系統</h1>
      </div>
    
    <div style="height:12%; float:right; position:relative; display:flex; align-items:center;">
      <div>
      <div>
            <span>圖層顯示：</span>
            <button id="layeropen" onclick="layerFopen()" style="display:none;">關</button>
            <button id="layerclose" onclick="layerFclose()" style="display:inline;">開</button>
          </div>
      <br/>
          <div>
            <span>圖例顯示：</span>
            <button id="symbolopen" onclick="symbolFopen()" style="display:none;">關</button>
            <button id="symbolclose" onclick="symbolFclose()" style="display:inline;">開</button>
          </div>
      </div>
    </div>
    </div>
    <div id="viewDiv"></div>  

<script>
function layerFopen(){document.querySelector(".esri-layer-list").style.cssText+="display:block",document.querySelector("#layeropen").style.cssText+="display:none",document.querySelector("#layerclose").style.cssText+="display:inline"}function layerFclose(){document.querySelector(".esri-layer-list").style.cssText+="display:none",document.querySelector("#layerclose").style.cssText+="display:none",document.querySelector("#layeropen").style.cssText+="display:inline"}function symbolFopen(){document.querySelector(".esri-legend").style.cssText+="display:block",document.querySelector("#symbolopen").style.cssText+="display:none",document.querySelector("#symbolclose").style.cssText+="display:inline"}function symbolFclose(){document.querySelector(".esri-legend").style.cssText+="display:none",document.querySelector("#symbolclose").style.cssText+="display:none",document.querySelector("#symbolopen").style.cssText+="display:inline"}
</script>

</body>

</html>
